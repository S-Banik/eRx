<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eRx - search</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="/assets/eRx.png" type="image/png">
    <link rel="stylesheet" href="/css/search.css">
</head>
<body>

    <div id="name-container">
        <div id="name">
            <img id="logo" src="/assets/eRx.png" alt="logo"><span> eRx</span> - by you always
        </div>
    </div>

    {{#if user}}
    <a href="/user-profile" class="login-btn" id="user-info-btn">
        <div class="user-info visible">
            <div class="user-initial">{{user.name.[0]}}</div>
        </div>
    </a>
    {{else}}
        <a href="/login" class="login-btn" id="login-btn">
            <i class="fas fa-user user-icon"></i>
            Login
        </a>
    {{/if}}



    <nav class="navbar navbar-expand-lg custom-navbar">
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="/doctors">Doctors</a></li>
                <li class="nav-item"><a class="nav-link" href="/hospitals">Hospitals</a></li>
                <li class="nav-item"><a class="nav-link" href="/search">Search</a></li>
                <li class="nav-item"><a style="color: red;" class="nav-link" href="/emergency">Emergency</a></li>
                <li class="nav-item"><a class="nav-link" href="/medicine">Medicines</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1 class="search-title">Search for <span id="dynamic-text"></span><span class="cursor">|</span></h1>
        <div class="search-bar">
            <input type="text" placeholder="Search for doctors, hospitals, or specialties..." class="search-input">
            <button class="search-button">Search</button>
        </div>

        <div class="filters">
            <label for="specialty" style="color: #d4af37;">Specialty:</label>
            <select id="specialty" class="filter-select">
                <option value="all">All Specialties</option>
                {{#each specialtyOptions}}
                    <option value="{{this}}">{{this}}</option>
                {{/each}}
            </select>

            <label for="hospital" style="color: #d4af37;">Hospital:</label>
            <select id="hospital" class="filter-select">
                <option value="all">All Hospitals</option>
                <option value="healthy-life">Healthy Life Hospital</option>
                <option value="city-care">City Care Hospital</option>
                <option value="green-valley">Green Valley Hospital</option>
                <option value="star-medical">Star Medical Center</option>
            </select>
        </div>
        <button class="filter-button">Apply </button>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
    <script>
        const texts = ["Doctor(s)", "Surgeon(s)", "Hospital(s)"];
        const dynamicText = document.getElementById("dynamic-text");
        let currentTextIndex = 0;
        let currentCharIndex = 0;

        function type() {
            if (currentCharIndex < texts[currentTextIndex].length) {
                dynamicText.textContent += texts[currentTextIndex].charAt(currentCharIndex);
                currentCharIndex++;
                setTimeout(type, 100);
            } else {
                setTimeout(erase, 1000);
            }
        }

        function erase() {
            if (currentCharIndex > 0) {
                dynamicText.textContent = texts[currentTextIndex].substring(0, currentCharIndex - 1);
                currentCharIndex--;
                setTimeout(erase, 50);
            } else {
                currentTextIndex = (currentTextIndex + 1) % texts.length;
                setTimeout(type, 500);
            }
        }

        type();
    </script>
</body>
</html>
